(this.webpackJsonpbandnames=this.webpackJsonpbandnames||[]).push([[0],{38:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(32),s=n.n(a),r=(n(38),n(7)),i=n(33),j=n(0),d=function(e){var t=e.addBand,n=Object(c.useState)(""),a=Object(r.a)(n,2),s=a[0],i=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Agregar Banda"}),Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),s.trim().length>0&&(t(s),i(""))},children:Object(j.jsx)("input",{className:"form-control",placeholder:"Nuevo nombre de banda",value:s,onChange:function(e){var t=e.target.value;i(t)}})})]})},o=function(e){var t=e.data,n=e.vote,a=e.deleteBand,s=e.changeName,i=Object(c.useState)(t),d=Object(r.a)(i,2),o=d[0],b=d[1];Object(c.useEffect)((function(){b(t)}),[t]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:"Bandas Actuales"}),Object(j.jsxs)("table",{className:"table table-stripped",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{}),Object(j.jsx)("th",{children:"Nombre"}),Object(j.jsx)("th",{children:"Votos"}),Object(j.jsx)("th",{children:"Borrar"})]})}),Object(j.jsx)("tbody",{children:o.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn btn-dark",onClick:function(){return n(e.id)},children:"+1"})}),Object(j.jsx)("td",{children:Object(j.jsx)("form",{onSubmit:function(t){var n,c;t.preventDefault(),n=e.id,c=e.name,console.log(n,c),s(e.id,e.name)},children:Object(j.jsx)("input",{className:"form-control",value:e.name,onChange:function(t){return function(e,t){var n=e.target.value;b((function(e){return e.map((function(e){return e.id===t&&(e.name=n),e}))}))}(t,e.id)}})})}),Object(j.jsxs)("td",{children:[" ",Object(j.jsxs)("h3",{children:[" ",e.votes," "]})," "]}),Object(j.jsx)("td",{children:Object(j.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return a(e.id)},children:"Borrar"})})]},e.id)}))})]})]})},b=function(){var e=Object(c.useState)(Object(i.io)("https://socket-bandname-server.herokuapp.com/",{transports:["websocket"]})),t=Object(r.a)(e,1)[0],n=Object(c.useState)(!1),a=Object(r.a)(n,2),s=a[0],b=a[1],l=Object(c.useState)([]),u=Object(r.a)(l,2),O=u[0],h=u[1];Object(c.useEffect)((function(){b(t.connect())}),[t]),Object(c.useEffect)((function(){t.on("connect",(function(){b(!0)}))}),[t]),Object(c.useEffect)((function(){t.on("disconnect",(function(){b(!1)}))}),[t]),Object(c.useEffect)((function(){t.on("current-band",(function(e){h(e)}))}),[t]);return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"alert",children:Object(j.jsxs)("p",{children:["Service status: ",s?Object(j.jsx)("span",{className:"text-success",children:" Online"}):Object(j.jsx)("span",{className:"text-danger",children:" Offline"})]})}),Object(j.jsx)("h1",{children:"BandNames"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-8",children:Object(j.jsx)(o,{data:O,vote:function(e){t.emit("vote-band",e)},deleteBand:function(e){t.emit("delete-band",e)},changeName:function(e,n){t.emit("change-band-name",{id:e,name:n})}})}),Object(j.jsx)("div",{className:"col-4",children:Object(j.jsx)(d,{addBand:function(e){t.emit("add-new-band",{name:e})}})})]})]})};s.a.render(Object(j.jsx)(b,{}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.5c63abc6.chunk.js.map